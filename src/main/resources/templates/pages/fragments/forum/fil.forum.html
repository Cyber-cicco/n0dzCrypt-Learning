<section class="flex flex-col w-full h-full" id="forum-canvas">
    <div class="flex items-center w-full gap-5">
        <h1 class="text-primary text-3xl w-full p-5 font-poppins text-center" th:text="${fil.getTitre()}"></h1>
    </div>
    <div class="px-5 pb-5 text-lg font-poppins text-center" >
        <div th:text="'Par ' + ${fil.getAuteur().getFullName()}"></div>
        <div class="text-sm text-error" th:if="${fil.getFerme()}">Ce sujet est fermé, vous ne pouvez plus y répondre</div>
    </div>
    <div class="whitespace-pre-wrap bg-lightAccent text-xl p-5" th:text="${fil.getDescription()}"></div>
    <div class="flex flex-col gap-2 p-5 flex-grow">
        <div class="flex flex-col gap-1 bg-white shadow-sm rounded-md p-3" th:each="message, iterStat : ${messages}" >
            <div class="flex justify-between text-primary" >
                <div class="" th:text="${message.getFullName()}"></div>
                <div class="" th:text="${message.getDateEmissionString()}"></div>
            </div>
            <div class="bg-dark h-[2px] w-full"></div>
            <div class="whitespace-pre-wrap " th:text="${message.getContenu()}"></div>
        </div>
    </div>
    <footer
            class="bg-white self-end gap-3 flex p-5 flex justify-center w-full shadow-[0px_-7px_10px_2px_#00000024] left-0"
    >
        <div
                th:hx-get="'/forum/salon/api?id=' + ${id}"
                th:hx-push-url="'/forum/salon?id=' + ${id}"
                hx-target="#forum-canvas"
                hx-swap="outerHTML"
        >
            <th:block th:replace="~{components/buttons :: buttonPrimary('Retour à la liste des sujets')}"></th:block>
        </div>
        <div
                th:hx-post="'/forum/fil?id=' + ${id}"
                hx-target="#forum-canvas"
                hx-swap="outerHTML"
        >
            <th:block th:replace="~{components/buttons :: buttonAccentDis('Répondre', ${fil.getFerme()})}"></th:block>
        </div>
        <div>
            <th:block th:replace="~{components/buttons :: buttonPrimary('<')}"></th:block>
            <th:block th:replace="~{components/buttons :: buttonPrimary('>')}"></th:block>
        </div>
    </footer>
</section>